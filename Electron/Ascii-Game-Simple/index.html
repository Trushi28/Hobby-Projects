<!DOCTYPE html>
<html>
<head>
  <title>Cyberpunk ASCII Hack</title>
  <style>
    body {
      background: #0a0e17;
      color: #00ffcc;
      font-family: 'Courier New', monospace;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    #game-container {
      background: #1a1e2e;
      padding: 20px;
      border: 2px solid #00ffcc;
      box-shadow: 0 0 20px #00ffcc;
      max-width: 800px;
      width: 100%;
      height: 600px;
      overflow-y: auto;
    }
    pre {
      margin: 0;
      font-size: 14px;
      line-height: 1.2;
    }
    #input {
      background: transparent;
      border: none;
      color: #00ffcc;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      width: 100%;
      outline: none;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <pre id="output"></pre>
    <input id="input" type="text" autofocus>
  </div>
  <script>
    const output = document.getElementById('output');
    const input = document.getElementById('input');
    let gameState = {
      dataFragments: 0,
      maxFragments: 5,
      currentNode: 'root',
      nodes: {
        root: { desc: 'Entry point to NeonGrid. Weak security.', paths: ['datacore', 'firewall'], data: 1 },
        datacore: { desc: 'Core data hub. High-value fragments detected.', paths: ['root', 'archive'], data: 2 },
        firewall: { desc: 'Heavily guarded node. Proceed with caution.', paths: ['root', 'vault'], data: 1 },
        archive: { desc: 'Old data storage. Fragments scattered.', paths: ['datacore'], data: 1 },
        vault: { desc: 'Encrypted vault. Jackpot data.', paths: ['firewall'], data: 2 }
      }
    };

    function display(text) {
      output.innerHTML += text + '\n';
      output.scrollTop = output.scrollHeight;
    }

    function clearInput() {
      input.value = '';
    }

    function startGame() {
      output.innerHTML = `
╔════════════════════════════════════╗
║  NEONGRID: CYBERPUNK ASCII HACK    ║
╚════════════════════════════════════╝
> Welcome, Runner. You're jacked into NeonGrid.
> Objective: Collect ${gameState.maxFragments} data fragments.
> Commands: move <node>, scan, collect, exit
> Current node: ${gameState.currentNode}
`;
      display(gameState.nodes[gameState.currentNode].desc);
    }

    function processCommand(command) {
      const [action, ...args] = command.trim().toLowerCase().split(' ');
      if (action === 'move' && args.length > 0) {
        const target = args[0];
        if (gameState.nodes[gameState.currentNode].paths.includes(target)) {
          gameState.currentNode = target;
          display(`> Moved to ${target}`);
          display(gameState.nodes[target].desc);
        } else {
          display(`> No connection to ${target}`);
        }
      } else if (action === 'scan') {
        const paths = gameState.nodes[gameState.currentNode].paths;
        display(`> Available nodes: ${paths.join(', ')}`);
        if (gameState.nodes[gameState.currentNode].data > 0) {
          display(`> Data fragments available: ${gameState.nodes[gameState.currentNode].data}`);
        }
      } else if (action === 'collect') {
        const data = gameState.nodes[gameState.currentNode].data;
        if (data > 0) {
          gameState.dataFragments += data;
          gameState.nodes[gameState.currentNode].data = 0;
          display(`> Collected ${data} data fragment(s). Total: ${gameState.dataFragments}`);
          if (gameState.dataFragments >= gameState.maxFragments) {
            display(`
> All fragments collected! NeonGrid breached.
> You win, Runner. Jack out.
╚════════════════════════════════════╝`);
            input.disabled = true;
          }
        } else {
          display(`> No data fragments here.`);
        }
      } else if (action === 'exit') {
        display(`> Jacking out...`);
        window.close();
      } else {
        display(`> Invalid command. Use: move <node>, scan, collect, exit`);
      }
    }

    input.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        processCommand(input.value);
        clearInput();
      }
    });

    startGame();
  </script>
</body>
</html>
